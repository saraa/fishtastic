MCS=mcs

all: linux

windows:
	$(CSC) /unsafe /target:library /out:glib-sharp.dll /recurse:*.cs

linux: glib-sharp.dll

glib-sharp.dll: *.cs generated/*.cs
	$(MCS) --unsafe --target library -o glib-sharp.dll --recurse '*.cs'

clean:
	rm -f *.dll
	rm -f generated/*

install: all
	cp glib-sharp.dll @prefix@/lib || exit 1

