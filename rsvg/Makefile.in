COMPILER=mcs
OUTPUT=rsvg-sharp.dll
prefix=@prefix@

@ENABLE_RSVG_TRUE@ all: linux
@ENABLE_RSVG_FALSE@ all:

linux: $(OUTPUT)

$(OUTPUT): *.cs generated/*.cs
	$(COMPILER) \
	    --unsafe\
            -nowarn:0660,0661 \
	    --target library \
	    -r ../glib/glib-sharp.dll \
	    -r ../pango/pango-sharp.dll \
	    -r ../atk/atk-sharp.dll \
	    -r ../gdk/gdk-sharp.dll \
	    -r ../gtk/gtk-sharp.dll \
	    -r ../art/art-sharp.dll \
	    -o $(OUTPUT) \
	    --recurse '*.cs'



clean: clean-dll clean-generated

clean-dll:
	rm -f *.dll

clean-generated:	
	rm -rf generated



install: all
@ENABLE_RSVG_TRUE@	../mkinstalldirs $(DESTDIR)$(prefix)/lib && \
@ENABLE_RSVG_TRUE@	cp $(OUTPUT) $(DESTDIR)$(prefix)/lib

