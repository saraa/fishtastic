MCS=mcs
DESTDIR=
prefix=@prefix@

all: linux

windows:
	$(CSC) /unsafe /target:library /r:../glib/glib-sharp.dll /out:pango-sharp.dll /recurse:*.cs

linux: pango-sharp.dll

pango-sharp.dll: generated/*.cs
	$(MCS) --unsafe -nowarn:0660,0661 --target library -L ../glib -r glib-sharp.dll -r System.Drawing -o pango-sharp.dll --recurse '*.cs'

clean:
	rm -f *.dll
	rm -rf generated

install: all
	../mkinstalldirs $(DESTDIR)$(prefix)/lib && \
	cp pango-sharp.dll $(DESTDIR)$(prefix)/lib

