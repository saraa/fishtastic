MCS=mcs

all: linux

windows:
	$(CSC) /unsafe /target:library /r:../glib/glib-sharp.dll /r:../pango/pango-sharp.dll /out:atk-sharp.dll /recurse:*.cs

linux: atk-sharp.dll

atk-sharp.dll: generated/*.cs
	$(MCS) --unsafe --target library -r ../glib/glib-sharp.dll -r ../pango/pango-sharp.dll -o atk-sharp.dll --recurse *.cs

unix:
	@echo "'make unix' is broken for now."
	$(CSC) --unsafe --target=library --r=../glib/glib-sharp.dll --r=../pango/pango-sharp.dll --out=atk-sharp.dll --recurse=*.cs

install: all
	cp atk-sharp.dll @prefix@/lib

