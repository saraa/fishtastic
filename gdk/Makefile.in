MCS=mcs

all: linux

windows:
	$(CSC) /unsafe /target:library /r:../glib/glib-sharp.dll /r:../pango/pango-sharp.dll /r:../atk/atk-sharp.dll /out:gdk-sharp.dll /recurse:*.cs

linux: gdk-sharp.dll

gdk-sharp.dll: generated/*.cs
	$(MCS) --unsafe --target library -L ../glib -L ../pango -L ../atk -r glib-sharp -r pango-sharp -r atk-sharp -o gdk-sharp.dll --recurse '*.cs'

clean:
	rm -f *.dll
	rm -f generated/*

install: all
	cp gdk-sharp.dll @prefix@/lib

